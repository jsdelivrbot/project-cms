{% extends "/base.html" %}

{% block head %}
<title>{{gallery.title}}</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.6.3/jquery.colorbox-min.js"></script>
<script defer>
function _loadColorbox(){
  console.log("loading colorbox");
  console.log($('a.thumbnail').colorbox({rel:'group1'}).length);
}

_loadColorbox();
$(document).ready(_loadColorbox);
</script>
{{gallery.head|safe}}

{% if gallery.css %}
<style>{{gallery.css}}</style>
{% endif %}

{% if gallery.javascript %}
<script type="application/javascript">{{gallery.javascript}}</script>
{% endif %}
{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">{{gallery.title}}</h1>
    </div>

    {% for picture in gallery.pictures|ref %}
    <div class="col-lg-3 col-md-4 col-xs-6 thumb">
        <a class="thumbnail" href="{{picture.url}}">
            <img class="img-responsive" src="{{picture|thumbnail(width=400, height=300)}}" alt="">
        </a>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
